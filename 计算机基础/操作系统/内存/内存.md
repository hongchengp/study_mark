# 内存的基础知识

内存就是为了存数据（它比外存快得多）



进程要运行时，要把数据存入内存



# 内存管理

交换技术和覆盖技术（就是c++中的unit，因为互斥性）



# 实现内存空间扩充的技术

覆盖和交换（交换是实现虚拟内存）



# 内存的分配和内存连续分配



## 连续分配

它容易有外部碎片

大块的连续内存很宝贵（那就用不连续分配，但看起来是连续的）



## 不连续分配

我们最先想到用链表

我们可以记录它的头节点，一步一步找到它所在的内存（遍历的慢，有指针的开销）



可以用表来记录（表项长度是一样的，可以随机访问）

逻辑号是隐含的，用逻辑号的前几位，得到逻辑页号（就是页表的下标）

逻辑号到物理号的映射 



# 基本分页存储管理

用页表和分页实现了不连续分配



但是它要的物理页非常多，要存物理页号的页表非常大（页表应该是连续的，为了可以下标访问）

这样宝贵的连续内存就被用来存页表了

可以用多级页表（就是数组的数组）

有一级页表，二级页表等等

但是访存次数就变多了（k + 1）



# 虚拟存储技术

**局部性原理**

**页表（逻辑块到物理块的映射）**

将物理内存很小的，扩充为逻辑地址很大的

采用交换技术，用页表实现

就是逻辑页号 到物理页号的映射

用户只看到逻辑地址，如果它没有装入内存，就会缺页中断

将它装入内存

如果内存满了，就会用请求调页，换出一些页



换出的要看有没有改变，改变了要一致性，重新写回外存



动态运行时装入 - 》 虚拟存储技术





# 请求分页管理方式



就是虚拟存储技术缺页中断



**尽量用没有修改的**，**最近用的最少的调出外存**